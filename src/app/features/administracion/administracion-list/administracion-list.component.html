<div class="container" fxLayout="row" fxLayoutAlign="center none">
  <div fxFlex="95%">
    <h2>Administración</h2>
    <mat-toolbar class="custom-toolbar">
      <div class="cont-toolbar">
        <div class="toolbar-imagen">
          <img [src]="imagenUrl" alt="Imagen de perfil" class="img-toolbar">
          <mat-icon class="icon-toolbar">camera_alt</mat-icon>
        </div>
        <div>
          <div style="font-weight: bold; color: #475569">{{userName}}</div>
          <div style="font-size: 14px; color: #777e89;">{{rolName}}</div>
        </div>
      </div>
      <div class="custom-div">
        <div style="font-size: 14px; color: #475569;">Detalles de Ítems</div>
        <div style="font-size: 12px; color: #777e89;"><b>Num. de Ítem: </b> {{ detalles.totalPuestos }} ítems.</div>
        <div style="font-size: 12px;"><b style="color: #777e89;">Num. de Ítem Ocupados: </b> <span
            style="color:green">{{ detalles.puestosOcupados }} ítem ocupados.</span></div>
        <div style="font-size: 12px;"><b style="color: #777e89;">Num. de Ítem Acefalos: </b> <span style="color:red">{{
            detalles.puestosAcefalos }} ítem acéfalos.</span></div>
        <div style="font-size: 12px; color: #777e89;"><b>Num. de Incorporaciones gestión {{ getCurrentYear() }}:</b> {{
          cantidadIncorporacionesCreadas }} incorporaciones.</div>
      </div>
    </mat-toolbar>
    <mat-tab-group class="custom-tab-group">
      <mat-tab>
        <ng-template mat-tab-label>
          <span class="custom-tab-label">Usuarios</span>
        </ng-template>
        <div class="row">
          <div class="col-12 col-md-6 col-lg-4 mr-20" style="width: 30%;">
            <mat-card class="example-card">
              <mat-card-header>
                <mat-card-title>Imagenes</mat-card-title>
              </mat-card-header>
              <mat-card-content>
                <mat-divider></mat-divider>
                <div class="button-container">
                  <label for="file-input-imagenes" class="file-button"><mat-icon>add</mat-icon> Seleccionar</label>
                  <input id="file-input-imagenes" type="file" style="display: none;" accept=".zip"
                    (change)="onFileSelected($event)">
                  <button mat-flat-button class="small-button custom-button" (click)="onUpload()"><mat-icon>
                      vertical_align_bottom</mat-icon> Subir</button>
                  <button mat-flat-button class="small-button custom-button"
                    (click)="onCancel()"><mat-icon>close</mat-icon> Cancelar</button>
                </div>
              </mat-card-content>
              <mat-card-footer>
                <mat-progress-bar mode="indeterminate" *ngIf="uploading && selectedFile"></mat-progress-bar>
                <div class="row" *ngIf="selectedFile">
                  <img src="./assets/favicon/zip.png" alt="Imagen" class="img-archivo">
                  <div class="file-details">
                    <div>
                      <p class="file-name">{{ fileName }}</p>
                      <p class="file-size">Tamaño del Archivo: {{ fileSize }}</p>
                    </div>
                  </div>
                </div>
                <div class="file-info" *ngIf="!selectedFile" style="margin: 10px;">
                  <p class="file-size">Arrastre y suelte archivo .zip aquí para cargarlos.</p>
                </div>
              </mat-card-footer>
            </mat-card>

            <mat-card class="example-card">
              <mat-card-header>
                <mat-card-title>Planilla</mat-card-title>
              </mat-card-header>
              <mat-card-content>
                <mat-divider></mat-divider>
                <div class="button-container">
                  <label for="file-input-excel" class="file-button-azul-claro"><mat-icon>add</mat-icon>
                    Seleccionar</label>
                  <input id="file-input-excel" type="file" style="display: none;"
                    accept=".xls, .xlsx, application/vnd.ms-excel, application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"
                    (change)="onFileSelectedExcel($event)">
                  <button mat-flat-button class="small-button custom-button-azul-claro"
                    (click)="onUploadExcel()"><mat-icon>
                      vertical_align_bottom</mat-icon> Subir</button>
                  <button mat-flat-button class="small-button custom-button-azul-claro"
                    (click)="onCancelExcel()"><mat-icon>close</mat-icon> Cancelar</button>
                </div>
              </mat-card-content>
              <mat-card-footer>
                <mat-progress-bar mode="indeterminate" *ngIf="uploading && selectedFileExcel"></mat-progress-bar>
                <div class="row" *ngIf="selectedFileExcel">
                  <img src="./assets/favicon/excel.png" alt="Imagen" class="img-archivo">
                  <div class="file-details">
                    <div>
                      <p class="file-name">{{ fileName }}</p>
                      <p class="file-size">Tamaño del Archivo: {{ fileSize }}</p>
                    </div>
                  </div>
                </div>
                <div class="file-info" *ngIf="!selectedFileExcel" style="margin: 10px;">
                  <p class="file-size">Arrastre y suelte archivo excel aquí para cargarlos.</p>
                </div>
              </mat-card-footer>
            </mat-card>
          </div>
          
          <div class="col-12 col-md-6 mr-20" style="width: 70%;">
            <mat-card class="card-list">
              <mat-card-content>
                <mat-form-field>
                  <mat-label>Filter</mat-label>
                  <input matInput (keyup)="applyFilter($event)" placeholder="Ex. Mia" #input>
                </mat-form-field>
                <div class="contenedor-tabla">
                  <table mat-table [dataSource]="dataSource" matSort>
                    <!-- ID Column -->
                    <ng-container matColumnDef="id">
                      <th mat-header-cell *matHeaderCellDef mat-sort-header> ID </th>
                      <td mat-cell *matCellDef="let row"> {{row.id}} </td>
                    </ng-container>

                    <!-- Name Column -->
                    <ng-container matColumnDef="name">
                      <th mat-header-cell *matHeaderCellDef mat-sort-header> Name </th>
                      <td mat-cell *matCellDef="let row"> {{row.name}} </td>
                    </ng-container>

                    <!-- Email Column -->
                    <ng-container matColumnDef="email">
                      <th mat-header-cell *matHeaderCellDef mat-sort-header> Email </th>
                      <td mat-cell *matCellDef="let row"> {{row.email}} </td>
                    </ng-container>

                    <!-- Rol Column -->
                    <ng-container matColumnDef="rol">
                      <th mat-header-cell *matHeaderCellDef mat-sort-header> Rol </th>
                      <td mat-cell *matCellDef="let row"> {{row.rol}} </td>
                    </ng-container>

                    <!-- Accion Column -->
                    <ng-container matColumnDef="accion">
                      <th mat-header-cell *matHeaderCellDef mat-sort-header> Acciones </th>
                      <td mat-cell *matCellDef="let row; index as i">
                        <button mat-icon-button (click)="abrirModalEditRolUser(i)">
                          <mat-icon>create</mat-icon>
                        </button>
                      </td>
                    </ng-container>

                    <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
                    <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>

                    <tr class="mat-row" *matNoDataRow>
                      <td class="mat-cell" colspan="5">No hay datos que coincidan con el filtro. "{{input.value}}"</td>
                    </tr>
                  </table>
                  <mat-paginator [pageSizeOptions]="[5, 10, 25, 100]" aria-label="Select page of users"></mat-paginator>
                </div>
              </mat-card-content>
            </mat-card>
          </div>
        </div>
      </mat-tab>

      <!--<mat-tab>
        <ng-template mat-tab-label>
          <span class="custom-tab-label">DDE</span>
        </ng-template>
        Content 2
      </mat-tab>-->
    </mat-tab-group>


  </div>
</div>